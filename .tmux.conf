# ============================================
# TMUX CONFIG - NVIM + OPENCODE WORKFLOW
# ============================================

# Prefix key
unbind C-b
set -g prefix C-a           # Ctrl+A: nuevo prefix (en lugar de Ctrl+B)
bind C-a send-prefix        # Ctrl+A Ctrl+A: envía Ctrl+A literal a la aplicación

# Mouse support
set -g mouse on             # Click y scroll con mouse habilitado

# Split panels
bind | split-window -h -c "#{pane_current_path}"  # Ctrl+A |: split vertical (izq/der)
bind - split-window -v -c "#{pane_current_path}"  # Ctrl+A -: split horizontal (arriba/abajo)

# Navegación entre paneles
bind -n C-h select-pane -L  # Ctrl+H: ir al panel izquierdo
bind -n C-j select-pane -D  # Ctrl+J: ir al panel de abajo
bind -n C-k select-pane -U  # Ctrl+K: ir al panel de arriba
bind -n C-l select-pane -R  # Ctrl+L: ir al panel derecho

# Resize paneles
bind -n M-Left resize-pane -L 5   # Alt+←: reducir ancho (mover borde izquierda)
bind -n M-Right resize-pane -R 5  # Alt+→: aumentar ancho (mover borde derecha)
bind -n M-Up resize-pane -U 5     # Alt+↑: reducir altura (mover borde arriba)
bind -n M-Down resize-pane -D 5   # Alt+↓: aumentar altura (mover borde abajo)

# Cerrar panel
unbind x
bind x kill-pane  # Ctrl+A x: cerrar panel actual (sin confirmación)

# Recargar config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"  # Ctrl+A r: recargar tmux.conf

# Apariencia minimalista (zen)
set -g status-style bg=default,fg=white
set -g status-left ""
set -g status-right "#S"  # Solo nombre de sesión
set -g status-position bottom
set -g pane-border-style fg=grey
set -g pane-active-border-style fg=cyan

# Scrollback
set -g history-limit 10000

# Clipboard integration (Mac)
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"  # En modo copia: y para copiar al clipboard de macOS
